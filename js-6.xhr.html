<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>ajax-test1</title>
</head>

<body>
  <form>
    用户名:<input type="text" /><br>
    密码:<input type="password" />
    <input type="submit" id="submitBtn" />
  </form>
  <script type="text/javascript">
    function createXHR() {
      var xhr = null;
      if (window.XMLHttpRequest) {
        xhr = new XMLHttpRequest();
      } else {
        xhr = new ActiveXObject('Microsoft.XMLHTTP');
      }
      return xhr;
    }
    var btn = document.getElementById("submitBtn");
    btn.onclick = function () {
      //创建一个xhr ,ajax核心请求对象
      var xhr = createXHR();
      console.log('服务器响应状态readyState:' + xhr.readyState);
      console.log('接收成功状态接收成功状态status:' + xhr.status);

      xhr.onreadystatechange = function () {
        console.log('接收成功状态接收成功状态status:' + xhr.status);
        if (xhr.readyState == 4) {//数据接收成功，状态发生改变的时候
          if (xhr.status == 200 || xhr.status == 304) {//数据接收成功，才有接收成功的状态
            console.log('服务器返回数据:' + xhr.responseText);
          } else {
            console.log('接收成功状态接收成功状态status:' + xhr.status);
          }
        }
      }
      //打开连接
      xhr.open('get', 'ajax1.php', false);
      console.log('接收成功状态接收成功状态status:' + xhr.status);
      xhr.send(null);
      console.log('接收成功状态接收成功状态status:' + xhr.status);
      console.log(111);
      return false;
    }
  </script>
</body>

</html>